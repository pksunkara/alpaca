# {{.Pkg.git.name}}-ruby

{{if .Pkg.official}}Official {{end}}{{.Pkg.name}} API library client for ruby

__This library is generated by [alpaca](https://github.com/pksunkara/alpaca)__

## Installation

Make sure you have [rubygems](https://rubygems.org) installed

```bash
$ gem install {{.Pkg.package}}
```

#### Versions

Works with [ 1.8.6 / 1.8.7 / 1.9.1 / 1.9.2 / 1.9.3 / 2.0.0 / 2.1.0 ]

## Usage

```ruby
require "{{.Pkg.package}}"

# Then we instantiate a client (as shown below)
```

### Build a client

##### Without any authentication

```ruby
client = {{call .Fnc.camelize .Pkg.name}}::Client.new

# If you need to send options
client = {{call .Fnc.camelize .Pkg.name}}::Client.new({}, options)
```
{{if .Api.authorization.basic}}
##### Basic authentication

```ruby
auth = { :username => 'pksunkara', :password => 'password' }

client = {{call .Fnc.camelize .Pkg.name}}::Client.new(auth, options)
```
{{end}}{{if .Api.authorization.header}}
##### Authorization header token

```ruby
client = {{call .Fnc.camelize .Pkg.name}}::Client.new({{if .Api.authorization.oauth}}{:http_header => '1a2b3'}{{else}}'1a2b3'{{end}}, options)
```
{{end}}{{if .Api.authorization.oauth}}
##### Oauth acess token

```ruby
client = {{call .Fnc.camelize .Pkg.name}}::Client.new('1a2b3', options)
```

##### Oauth client secret

```ruby
auth = { :client_id => '09a8b7', :client_secret => '1a2b3' }

client = {{call .Fnc.camelize .Pkg.name}}::Client.new(auth, options)
```
{{end}}
### Response information

```ruby
response = client.klass('args').method 'args'

response.body
# >>> 'Hello world!'

response.code
# >>> 200

response.headers
# >>> {'content-type' => 'text/html'}
```
##### HTML response

```ruby
response.body
# >>> 'The username is pksunkara!'
```
{{if .Api.response.formats.json}}
##### JSON response

```ruby
response.body
# >>> {'user' => 'pksunkara'}
```
{{end}}
### Request body information

##### RAW request

```ruby
body = 'username=pksunkara'
```

##### FORM request

```ruby
body = {'user' => 'pksunkara'}
```
{{if .Api.request.formats.json}}
##### JSON request

```ruby
body = {'user' => 'pksunkara'}
```
{{end}}
### Client Options

The following options are available while instantiating a client:

 * __base__: Base url for the api
 * __api_version__: Default version of the api (to be used in url)
 * __user_agent__: Default user-agent for all requests
 * __headers__: Default headers for all requests
 * __request_type__: Default format of the request body{{if .Api.response.suffix}}
 * __response_type__: Default format of the response (to be used in url suffix){{end}}

### Method Options

The following options are available while calling a method of an api:

 * __api_version__: Version of the api (to be used in url)
 * __headers__: Headers for the request
 * __query__: Query parameters for the url
 * __body__: Body of the request
 * __request_type__: Format of the request body{{if .Api.response.suffix}}
 * __response_type__: Format of the response (to be used in url suffix){{end}}
{{with $data := .}}{{range .Api.classes}}
### {{index $data.Doc . "title"}} api

{{index $data.Doc . "desc"}}
{{with (index $data.Api.class . "args")}}
The following arguments are required:{{end}}
{{with $class := .}}{{range $index, $element := (index $data.Api.class . "args")}}
 * __{{.}}__: {{index $data.Doc $class "args" $index "desc"}}{{end}}

```ruby
{{call $data.Fnc.underscore .}} = client.{{call $data.Fnc.underscore .}}({{call $data.Fnc.prnt.ruby (index $data.Doc . "args") ", " false}})
```
{{range (call $data.Fnc.methods (index $data.Api.class .))}}
##### {{index $data.Doc $class . "title"}} ({{call $data.Fnc.upper (or (index $data.Api.class $class . "method") "get")}} {{index $data.Api.class $class . "path"}})

{{index $data.Doc $class . "desc"}}
{{with (index $data.Api.class $class . "params")}}
The following arguments are required:{{end}}
{{with $method := .}}{{range $index, $element := (index $data.Api.class $class . "params")}}
 * __{{.}}__: {{index $data.Doc $class $method "params" $index "desc"}}{{end}}{{end}}

```ruby
response = {{call $data.Fnc.underscore $class}}.{{call $data.Fnc.underscore .}}({{call $data.Fnc.prnt.ruby (index $data.Doc $class . "params") ", " true}}options)
```
{{end}}{{end}}{{end}}{{end}}
## Contributors
Here is a list of [Contributors](https://{{.Pkg.git.site}}/{{.Pkg.git.user}}/{{.Pkg.git.name}}-ruby/contributors)

### TODO

## License
{{.Pkg.license}}

## Bug Reports
Report [here](https://{{.Pkg.git.site}}/{{.Pkg.git.user}}/{{.Pkg.git.name}}-ruby/issues).

## Contact
{{.Pkg.author.name}} ({{.Pkg.author.email}})
